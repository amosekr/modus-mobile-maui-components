<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DemoApp.Views.TMListViewPage"
             xmlns:local ="clr-namespace:DemoApp.Views"
             xmlns:res="clr-namespace:DemoApp.Resources"
             xmlns:constants="clr-namespace:DemoApp.Constant"
             xmlns:Modus="clr-namespace:Trimble.Modus.Components;assembly=Trimble.Modus.Components"
             Title="TMListView">
  <ContentPage.Resources>
    <DataTemplate x:Name="TextCell" x:Key="textCellKey">
      <Modus:TextCell 
            Title="{Binding Name}"
            Description="{Binding Address}"
            LeftIconSource="{Binding ProfilePic}"
            RightIconSource="{Binding ProfilePic}">
      </Modus:TextCell>
    </DataTemplate>
    <DataTemplate x:Name="ViewCell" x:Key="viewCellKey">
      <Modus:ListViewTemplateCell>
        <Modus:ListViewTemplateCell.Content>
          <Grid RowSpacing="10" Padding="10">
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border HeightRequest="80" 
                    WidthRequest="80"
                    VerticalOptions="Center"
                    Stroke="{Binding Color}"
                    StrokeShape="RoundRectangle 40"
                    StrokeThickness="8"
                    Grid.RowSpan="3"
                    Margin="0,0,0,0">
              <Image Source="{Binding ProfilePic}"
                     Margin="10,0,10,0"
                     VerticalOptions="Center" HorizontalOptions="Center" HeightRequest="80" WidthRequest="80"/>

            </Border>

            <Label Text="{Binding Name}"  Grid.Row="0" Grid.Column="1" FontSize="Medium"/>
            <Label Text="{Binding DOB, StringFormat='DOB: {0:dd/MM/yyyy}'}" Grid.Row="1" Grid.Column="1" FontSize="Small"/>
            <Label Text="{Binding Address}" Grid.Row="2" Grid.Column="1" FontSize="Micro"/>
            <StackLayout Grid.Column="2" Grid.Row="1" HorizontalOptions="Center" Orientation="Horizontal" Spacing="5" VerticalOptions="Center" >
              <ImageButton Source="{x:Static constants:ImageConstants.Email}"  HeightRequest="20" WidthRequest="20" Command="{Binding EmailButtonCommand}"/>
              <ImageButton Source="{x:Static constants:ImageConstants.Phone}"  HeightRequest="20" WidthRequest="20" Command="{Binding PhoneButtonCommand}"/>
            </StackLayout>

          </Grid>
        </Modus:ListViewTemplateCell.Content>
      </Modus:ListViewTemplateCell>
    </DataTemplate>

  </ContentPage.Resources>
  <ScrollView>
    <VerticalStackLayout>
      <Label Text="Select View Type" FontSize="Medium" FontAttributes="Bold" Padding="10"></Label>
      <Modus:TMRadioButtonGroup x:Name="CellGroup"
                                Padding="10"
                                SelectedIndex="0"
                                HorizontalOptions="Center"
                                SelectedRadioButtonChangedCommand="{Binding OnCellGroupButtonCommand}"
                                Orientation="Horizontal">
        <Modus:TMRadioButton Text="TextCell" />
        <Modus:TMRadioButton Text="ViewCell" />
      </Modus:TMRadioButtonGroup>
      <Modus:TMRadioButtonGroup x:Name="SelectionGroup"
                                Padding="10"
                                SelectedIndex="0"
                                HorizontalOptions="Center"
                                SelectedRadioButtonChangedCommand="{Binding SelectionGroupButtonCommand}"
                                Orientation="Horizontal">
        <Modus:TMRadioButton Text="Single" />
        <Modus:TMRadioButton Text="Multiple" />
        <Modus:TMRadioButton Text="None" />
      </Modus:TMRadioButtonGroup>
      <Modus:TMListView x:Name="textCellList" IsVisible="True" SelectionMode="{Binding SelectionMode}" ItemSelectedCommand="{Binding ItemSelectedCommand}" ItemsSource="{Binding ItemSource}" ItemTemplate="{Binding ItemTemplate}" >
      </Modus:TMListView>
    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
